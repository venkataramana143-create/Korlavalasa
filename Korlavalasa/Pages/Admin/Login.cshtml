@page
@model Korlavalasa.Pages.Admin.LoginModel
@{
    ViewData["Title"] = "Admin Login";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card login-card shadow">
                <div class="card-header text-center bg-primary text-white">
                    <h4 class="mb-0">
                        <i class="fas fa-lock me-2"></i>Admin Login
                    </h4>
                    <small>Korlavalasa Village Administration</small>
                </div>
                <div class="card-body p-4">
                    @if (TempData["ErrorMessage"] != null)
                    {
                        <div class="alert alert-danger alert-dismissible fade show" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            @TempData["ErrorMessage"]
                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                    }

                    <form method="post">
                        <div class="mb-3">
                            <label for="username" class="form-label">
                                <i class="fas fa-user me-1"></i>Username
                            </label>
                            <input type="text" class="form-control form-control-lg" id="username"
                                   asp-for="Input.Username" required autofocus
                                   placeholder="Enter your username">
                            <span asp-validation-for="Input.Username" class="text-danger small"></span>
                        </div>

                        <div class="mb-3">
                            <label for="password" class="form-label">
                                <i class="fas fa-key me-1"></i>Password
                            </label>
                            <input type="password" class="form-control form-control-lg" id="password"
                                   asp-for="Input.Password" required
                                   placeholder="Enter your password">
                            <span asp-validation-for="Input.Password" class="text-danger small"></span>
                        </div>

                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="rememberMe"
                                   asp-for="Input.RememberMe">
                            <label class="form-check-label" for="rememberMe">
                                Remember me
                            </label>
                        </div>

                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-sign-in-alt me-2"></i>Login
                            </button>
                        </div>
                    </form>
                </div>
                <div class="card-footer text-center text-muted">
                    <small>
                        <i class="fas fa-shield-alt me-1"></i>
                        Secure admin access only
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>



@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-focus on username field
            const usernameField = document.getElementById('username');
            if (usernameField) {
                usernameField.focus();
            }

            // Show/hide password functionality
            const passwordField = document.getElementById('password');
            if (passwordField) {
                const togglePassword = document.createElement('span');
                togglePassword.innerHTML = '<i class="fas fa-eye"></i>';
                togglePassword.className = 'password-toggle';
                togglePassword.style.cssText = `
                    position: absolute;
                    right: 15px;
                    top: 50%;
                    transform: translateY(-50%);
                    cursor: pointer;
                    color: #6c757d;
                    z-index: 5;
                `;

                passwordField.parentNode.style.position = 'relative';
                passwordField.parentNode.appendChild(togglePassword);

                togglePassword.addEventListener('click', function() {
                    const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordField.setAttribute('type', type);
                    this.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
                });
            }
        });
    </script>
}